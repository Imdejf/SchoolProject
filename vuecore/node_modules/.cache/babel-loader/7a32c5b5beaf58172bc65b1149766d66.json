{"remainingRequest":"C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\src\\store\\cart.js","dependencies":[{"path":"C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\src\\store\\cart.js","mtime":1591600681834},{"path":"C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639426954311},{"path":"C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\node_modules\\babel-loader\\lib\\index.js","mtime":1639426955312},{"path":"C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\node_modules\\eslint-loader\\index.js","mtime":1639426951928}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgY2FydDogW10KICB9LAogIGdldHRlcnM6IHsKICAgIGl0ZW1Db3VudDogZnVuY3Rpb24gaXRlbUNvdW50KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jYXJ0LnJlZHVjZShmdW5jdGlvbiAodG90YWwsIGNhcnRJdGVtKSB7CiAgICAgICAgcmV0dXJuIHRvdGFsICsgY2FydEl0ZW0ucXVhbnRpdHk7CiAgICAgIH0sIDApOwogICAgfSwKICAgIHRvdGFsUHJpY2U6IGZ1bmN0aW9uIHRvdGFsUHJpY2Uoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmNhcnQucmVkdWNlKGZ1bmN0aW9uICh0b3RhbCwgY2FydEl0ZW0pIHsKICAgICAgICByZXR1cm4gdG90YWwgKyBjYXJ0SXRlbS5xdWFudGl0eSAqIGNhcnRJdGVtLnByb2R1Y3QucHJpY2U7CiAgICAgIH0sIDApOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBhZGRQcm9kdWN0OiBmdW5jdGlvbiBhZGRQcm9kdWN0KHN0YXRlLCBwcm9kdWN0KSB7CiAgICAgIHZhciBjYXJ0SXRlbSA9IHN0YXRlLmNhcnQuZmluZChmdW5jdGlvbiAoY2FydEl0ZW0pIHsKICAgICAgICByZXR1cm4gY2FydEl0ZW0ucHJvZHVjdC5pZCA9PSBwcm9kdWN0LmlkOwogICAgICB9KTsKCiAgICAgIGlmIChjYXJ0SXRlbSAhPSBudWxsKSB7CiAgICAgICAgY2FydEl0ZW0ucXVhbnRpdHkrKzsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0ZS5jYXJ0LnB1c2goewogICAgICAgICAgcHJvZHVjdDogcHJvZHVjdCwKICAgICAgICAgIHF1YW50aXR5OiAxCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzdWJ0cmFjdFByb2R1Y3Q6IGZ1bmN0aW9uIHN1YnRyYWN0UHJvZHVjdChzdGF0ZSwgaWQpIHsKICAgICAgdmFyIGNhcnRJdGVtID0gc3RhdGUuY2FydC5maW5kKGZ1bmN0aW9uIChjYXJ0SXRlbSkgewogICAgICAgIHJldHVybiBjYXJ0SXRlbS5wcm9kdWN0LmlkID09IGlkOwogICAgICB9KTsKCiAgICAgIGlmIChjYXJ0SXRlbS5xdWFudGl0eSA9PSAxKSB7CiAgICAgICAgdmFyIGluZGV4ID0gc3RhdGUuY2FydC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLnByb2R1Y3QuaWQgPT0gaWQ7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChpbmRleCAhPSAtMSkgewogICAgICAgICAgc3RhdGUuY2FydC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjYXJ0SXRlbS5xdWFudGl0eS0tOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlUHJvZHVjdDogZnVuY3Rpb24gcmVtb3ZlUHJvZHVjdChzdGF0ZSwgaWQpIHsKICAgICAgdmFyIGluZGV4ID0gc3RhdGUuY2FydC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5wcm9kdWN0LmlkID09IGlkOwogICAgICB9KTsKCiAgICAgIGlmIChpbmRleCAhPSAtMSkgewogICAgICAgIHN0YXRlLmNhcnQuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfQogICAgfSwKICAgIHNldENhcnREYXRhOiBmdW5jdGlvbiBzZXRDYXJ0RGF0YShzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5jYXJ0ID0gZGF0YTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvYWRDYXJ0RGF0YTogZnVuY3Rpb24gbG9hZENhcnREYXRhKGNvbnRleHQpIHsKICAgICAgdmFyIGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY2FydCIpOwoKICAgICAgaWYgKGRhdGEgIT0gbnVsbCkgewogICAgICAgIGNvbnRleHQuY29tbWl0KCJzZXRDYXJ0RGF0YSIsIEpTT04ucGFyc2UoZGF0YSkpOwogICAgICB9CiAgICB9LAogICAgc3RvcmVDYXJ0RGF0YTogZnVuY3Rpb24gc3RvcmVDYXJ0RGF0YShjb250ZXh0KSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjYXJ0IiwgSlNPTi5zdHJpbmdpZnkoY29udGV4dC5zdGF0ZS5jYXJ0KSk7CiAgICB9LAogICAgaW5pdGlhbGl6ZUNhcnQ6IGZ1bmN0aW9uIGluaXRpYWxpemVDYXJ0KGNvbnRleHQsIHN0b3JlKSB7CiAgICAgIGNvbnRleHQuZGlzcGF0Y2goImxvYWRDYXJ0RGF0YSIpOwogICAgICBzdG9yZS53YXRjaChmdW5jdGlvbiAoc3RhdGUpIHsKICAgICAgICByZXR1cm4gc3RhdGUuY2FydC5jYXJ0OwogICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlzcGF0Y2goInN0b3JlQ2FydERhdGEiKTsKICAgICAgfSwgewogICAgICAgIGRlZXA6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgY2xlYXJDYXJ0RGF0YTogZnVuY3Rpb24gY2xlYXJDYXJ0RGF0YShjb250ZXh0KSB7CiAgICAgIGNvbnRleHQuY29tbWl0KCJzZXRDYXJ0RGF0YSIsIFtdKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:/Users/jablo/Desktop/vuecore/vuecore/src/store/cart.js"],"names":["namespaced","state","cart","getters","itemCount","reduce","total","cartItem","quantity","totalPrice","product","price","mutations","addProduct","find","id","push","subtractProduct","index","findIndex","item","splice","removeProduct","setCartData","data","actions","loadCartData","context","localStorage","getItem","commit","JSON","parse","storeCartData","setItem","stringify","initializeCart","store","dispatch","watch","deep","clearCartData"],"mappings":"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","sourcesContent":["export default {\r\n    namespaced: true,\r\n    state: {\r\n        cart: [],\r\n    },\r\n    getters: {\r\n        itemCount: (state) =>\r\n            state.cart.reduce(\r\n                (total, cartItem) => total + cartItem.quantity,\r\n                0\r\n            ),\r\n        totalPrice: (state) =>\r\n            state.cart.reduce(\r\n                (total, cartItem) =>\r\n                    total + cartItem.quantity * cartItem.product.price,\r\n                0\r\n            ),\r\n    },\r\n    mutations: {\r\n        addProduct(state, product) {\r\n            let cartItem = state.cart.find(\r\n                (cartItem) => cartItem.product.id == product.id\r\n            );\r\n            if (cartItem != null) {\r\n                cartItem.quantity++;\r\n            } else {\r\n                state.cart.push({ product: product, quantity: 1 });\r\n            }\r\n        },\r\n        subtractProduct(state, id) {\r\n            let cartItem = state.cart.find(\r\n                (cartItem) => cartItem.product.id == id\r\n            );\r\n            if (cartItem.quantity == 1) {\r\n                let index = state.cart.findIndex(\r\n                    (item) => item.product.id == id\r\n                );\r\n                if (index != -1) {\r\n                    state.cart.splice(index, 1);\r\n                }\r\n            } else {\r\n                cartItem.quantity--;\r\n            }\r\n        },\r\n        removeProduct(state, id) {\r\n            let index = state.cart.findIndex((item) => item.product.id == id);\r\n            if (index != -1) {\r\n                state.cart.splice(index, 1);\r\n            }\r\n        },\r\n        setCartData(state, data) {\r\n            state.cart = data;\r\n        },\r\n    },\r\n    actions: {\r\n        loadCartData(context) {\r\n            let data = localStorage.getItem(\"cart\");\r\n            if (data != null) {\r\n                context.commit(\"setCartData\", JSON.parse(data));\r\n            }\r\n        },\r\n        storeCartData(context) {\r\n            localStorage.setItem(\"cart\", JSON.stringify(context.state.cart));\r\n        },\r\n        initializeCart(context, store) {\r\n            context.dispatch(\"loadCartData\");\r\n            store.watch(\r\n                (state) => state.cart.cart,\r\n                () => context.dispatch(\"storeCartData\"),\r\n                { deep: true }\r\n            );\r\n        },\r\n        clearCartData(context) {\r\n            context.commit(\"setCartData\", []);\r\n        }\r\n    },\r\n};\r\n"]}]}