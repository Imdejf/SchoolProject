{"remainingRequest":"C:\\Users\\jablo\\Desktop\\vuecore course files\\vuecore\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jablo\\Desktop\\vuecore course files\\vuecore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jablo\\Desktop\\vuecore course files\\vuecore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jablo\\Desktop\\vuecore course files\\vuecore\\src\\components\\admin\\ProductEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jablo\\Desktop\\vuecore course files\\vuecore\\src\\components\\admin\\ProductEditor.vue","mtime":1591692142633},{"path":"C:\\Users\\jablo\\Desktop\\vuecore course files\\vuecore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639426954311},{"path":"C:\\Users\\jablo\\Desktop\\vuecore course files\\vuecore\\node_modules\\babel-loader\\lib\\index.js","mtime":1639426955312},{"path":"C:\\Users\\jablo\\Desktop\\vuecore course files\\vuecore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639426954311},{"path":"C:\\Users\\jablo\\Desktop\\vuecore course files\\vuecore\\node_modules\\vue-loader\\lib\\index.js","mtime":1639426937904}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2phYmxvL0Rlc2t0b3AvdnVlY29yZSBjb3Vyc2UgZmlsZXMvdnVlY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL2phYmxvL0Rlc2t0b3AvdnVlY29yZSBjb3Vyc2UgZmlsZXMvdnVlY29yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgcmVxdWlyZWQgfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3Q6IHsKICAgICAgICBuYW1lOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgIHByaWNlOiBudWxsLAogICAgICAgIGltYWdlOiBudWxsLAogICAgICAgIGNhdGVnb3J5OiBudWxsCiAgICAgIH0KICAgIH07CiAgfSwKICB2YWxpZGF0aW9uczogewogICAgcHJvZHVjdDogewogICAgICBuYW1lOiB7CiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICAgIH0sCiAgICAgIGRlc2NyaXB0aW9uOiB7CiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICAgIH0sCiAgICAgIHByaWNlOiB7CiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICAgIH0sCiAgICAgIGNhdGVnb3J5OiB7CiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsiY2F0ZWdvcmllcyIsICJwcm9kdWN0SW1hZ2VzIl0pKSwge30sIHsKICAgIGVkaXRNb2RlOiBmdW5jdGlvbiBlZGl0TW9kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhcmFtc1sib3AiXSA9PSAiZWRpdCI7CiAgICB9CiAgfSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbInNldEN1cnJlbnRQYWdlIl0pKSwgbWFwQWN0aW9ucyhbImFkZFByb2R1Y3QiLCAiZWRpdFByb2R1Y3QiXSkpLCB7fSwgewogICAgb25GaWxlU2VsZWN0ZWQ6IGZ1bmN0aW9uIG9uRmlsZVNlbGVjdGVkKGUpIHsKICAgICAgdGhpcy5wcm9kdWN0LmltYWdlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICB9LAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgdGhpcy5wcm9kdWN0LmNhdGVnb3J5ID0gZS50YXJnZXQudmFsdWU7CiAgICB9LAogICAgaGFuZGxlUHJvZHVjdDogZnVuY3Rpb24gaGFuZGxlUHJvZHVjdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHByb2R1Y3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuJHYuJHRvdWNoKCk7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLiR2LiRpbnZhbGlkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcHJvZHVjdCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgcHJvZHVjdC5hcHBlbmQoIk5hbWUiLCBfdGhpcy5wcm9kdWN0Lm5hbWUpOwogICAgICAgICAgICAgICAgcHJvZHVjdC5hcHBlbmQoIkRlc2NyaXB0aW9uIiwgX3RoaXMucHJvZHVjdC5kZXNjcmlwdGlvbik7CiAgICAgICAgICAgICAgICBwcm9kdWN0LmFwcGVuZCgiUHJpY2UiLCBfdGhpcy5wcm9kdWN0LnByaWNlKTsKICAgICAgICAgICAgICAgIHByb2R1Y3QuYXBwZW5kKCJJbWFnZVVwbG9hZCIsIF90aGlzLnByb2R1Y3QuaW1hZ2UpOwogICAgICAgICAgICAgICAgcHJvZHVjdC5hcHBlbmQoIkNhdGVnb3J5SWQiLCBfdGhpcy5wcm9kdWN0LmNhdGVnb3J5LmlkIHx8IF90aGlzLnByb2R1Y3QuY2F0ZWdvcnkpOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMuZWRpdE1vZGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBwcm9kdWN0LmFwcGVuZCgiSWQiLCBfdGhpcy5wcm9kdWN0LmlkKTsKICAgICAgICAgICAgICAgIHByb2R1Y3QuYXBwZW5kKCJJbWFnZSIsIF90aGlzLnByb2R1Y3QuaW1hZ2UubmFtZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZWRpdFByb2R1Y3QocHJvZHVjdCk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5hZGRQcm9kdWN0KHByb2R1Y3QpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgX3RoaXMuc2V0Q3VycmVudFBhZ2UoMSk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvYWRtaW4vcHJvZHVjdHMiKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuZWRpdE1vZGUpIHsKICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnByb2R1Y3QsIHRoaXMuJHN0b3JlLmdldHRlcnMucHJvZHVjdEJ5SWQodGhpcy4kcm91dGUucGFyYW1zWyJpZCJdKSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ProductEditor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <h2 class=\"text-center p-2\">\r\n            {{ editMode ? \"Edit Product\" : \"Add Product\" }}\r\n        </h2>\r\n\r\n        <h4\r\n            v-if=\"$v.$invalid && $v.$dirty\"\r\n            class=\"bg-danger text-white text-center p-2\"\r\n        >\r\n            Values Required for All Fields!\r\n        </h4>\r\n\r\n        <div class=\"form-group\">\r\n            <label for=\"\">Name</label>\r\n            <input type=\"text\" class=\"form-control\" v-model=\"product.name\" />\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <label for=\"\">Description</label>\r\n            <textarea\r\n                class=\"form-control\"\r\n                v-model=\"product.description\"\r\n            ></textarea>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <label for=\"\">Price</label>\r\n            <input type=\"text\" class=\"form-control\" v-model=\"product.price\" />\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <label for=\"\">Image</label>\r\n            <input type=\"file\" class=\"form-control\" @change=\"onFileSelected\" />\r\n\r\n            <p v-if=\"editMode\" class=\"mt-3\">\r\n                Current Image:\r\n                <img :src=\"productImages + product.image\" width=\"100\" />\r\n            </p>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <label for=\"\">Category</label>\r\n            <select class=\"form-control\" @change=\"onChange\">\r\n                <option :value=\"null\">Choose a category</option>\r\n                <option\r\n                    v-for=\"(c, i) in categories\"\r\n                    :key=\"i\"\r\n                    :value=\"c.id\"\r\n                    :selected=\"c.id == product.categoryId\"\r\n                >\r\n                    {{ c.name }}\r\n                </option>\r\n            </select>\r\n        </div>\r\n\r\n        <div class=\"text-center\">\r\n            <router-link to=\"/admin/products\" class=\"btn btn-secondary m-1\"\r\n                >Cancel</router-link\r\n            >\r\n            <button class=\"btn btn-primary m-1\" @click=\"handleProduct\">\r\n                {{ editMode ? \"Edit\" : \"Add\" }}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions, mapMutations } from \"vuex\";\r\nimport { required } from \"vuelidate/lib/validators\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            product: {\r\n                name: null,\r\n                description: null,\r\n                price: null,\r\n                image: null,\r\n                category: null,\r\n            },\r\n        };\r\n    },\r\n    validations: {\r\n        product: {\r\n            name: { required },\r\n            description: { required },\r\n            price: { required },\r\n            category: { required },\r\n        },\r\n    },\r\n    computed: {\r\n        ...mapState([\"categories\", \"productImages\"]),\r\n        editMode() {\r\n            return this.$route.params[\"op\"] == \"edit\";\r\n        },\r\n    },\r\n    methods: {\r\n        ...mapMutations([\"setCurrentPage\"]),\r\n        ...mapActions([\"addProduct\", \"editProduct\"]),\r\n        onFileSelected(e) {\r\n            this.product.image = e.target.files[0];\r\n        },\r\n        onChange(e) {\r\n            this.product.category = e.target.value;\r\n        },\r\n        async handleProduct() {\r\n            this.$v.$touch();\r\n            if (!this.$v.$invalid) {\r\n                const product = new FormData();\r\n\r\n                product.append(\"Name\", this.product.name);\r\n                product.append(\"Description\", this.product.description);\r\n                product.append(\"Price\", this.product.price);\r\n                product.append(\"ImageUpload\", this.product.image);\r\n                product.append(\r\n                    \"CategoryId\",\r\n                    this.product.category.id || this.product.category\r\n                );\r\n\r\n                if (this.editMode) {\r\n                    product.append(\"Id\", this.product.id);\r\n                    product.append(\"Image\", this.product.image.name);\r\n\r\n                    await this.editProduct(product);\r\n                } else {\r\n                    await this.addProduct(product);\r\n                }\r\n\r\n                this.setCurrentPage(1);\r\n                this.$router.push(\"/admin/products\");\r\n            }\r\n        },\r\n    },\r\n    created() {\r\n        if (this.editMode) {\r\n            Object.assign(\r\n                this.product,\r\n                this.$store.getters.productById(this.$route.params[\"id\"])\r\n            );\r\n        }\r\n    },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components/admin"}]}