{"remainingRequest":"C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\src\\components\\admin\\ProductEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\src\\components\\admin\\ProductEditor.vue","mtime":1591692142633},{"path":"C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639426954311},{"path":"C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\node_modules\\babel-loader\\lib\\index.js","mtime":1639426955312},{"path":"C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639426954311},{"path":"C:\\Users\\jablo\\Desktop\\vuecore\\vuecore\\node_modules\\vue-loader\\lib\\index.js","mtime":1639426937904}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2phYmxvL0Rlc2t0b3AvdnVlY29yZS92dWVjb3JlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvamFibG8vRGVza3RvcC92dWVjb3JlL3Z1ZWNvcmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9kdWN0OiB7CiAgICAgICAgbmFtZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICBwcmljZTogbnVsbCwKICAgICAgICBpbWFnZTogbnVsbCwKICAgICAgICBjYXRlZ29yeTogbnVsbAogICAgICB9CiAgICB9OwogIH0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIHByb2R1Y3Q6IHsKICAgICAgbmFtZTogewogICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZAogICAgICB9LAogICAgICBkZXNjcmlwdGlvbjogewogICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZAogICAgICB9LAogICAgICBwcmljZTogewogICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZAogICAgICB9LAogICAgICBjYXRlZ29yeTogewogICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZAogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbImNhdGVnb3JpZXMiLCAicHJvZHVjdEltYWdlcyJdKSksIHt9LCB7CiAgICBlZGl0TW9kZTogZnVuY3Rpb24gZWRpdE1vZGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXNbIm9wIl0gPT0gImVkaXQiOwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoWyJzZXRDdXJyZW50UGFnZSJdKSksIG1hcEFjdGlvbnMoWyJhZGRQcm9kdWN0IiwgImVkaXRQcm9kdWN0Il0pKSwge30sIHsKICAgIG9uRmlsZVNlbGVjdGVkOiBmdW5jdGlvbiBvbkZpbGVTZWxlY3RlZChlKSB7CiAgICAgIHRoaXMucHJvZHVjdC5pbWFnZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7CiAgICAgIHRoaXMucHJvZHVjdC5jYXRlZ29yeSA9IGUudGFyZ2V0LnZhbHVlOwogICAgfSwKICAgIGhhbmRsZVByb2R1Y3Q6IGZ1bmN0aW9uIGhhbmRsZVByb2R1Y3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwcm9kdWN0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLiR2LiR0b3VjaCgpOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy4kdi4kaW52YWxpZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHByb2R1Y3QgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIHByb2R1Y3QuYXBwZW5kKCJOYW1lIiwgX3RoaXMucHJvZHVjdC5uYW1lKTsKICAgICAgICAgICAgICAgIHByb2R1Y3QuYXBwZW5kKCJEZXNjcmlwdGlvbiIsIF90aGlzLnByb2R1Y3QuZGVzY3JpcHRpb24pOwogICAgICAgICAgICAgICAgcHJvZHVjdC5hcHBlbmQoIlByaWNlIiwgX3RoaXMucHJvZHVjdC5wcmljZSk7CiAgICAgICAgICAgICAgICBwcm9kdWN0LmFwcGVuZCgiSW1hZ2VVcGxvYWQiLCBfdGhpcy5wcm9kdWN0LmltYWdlKTsKICAgICAgICAgICAgICAgIHByb2R1Y3QuYXBwZW5kKCJDYXRlZ29yeUlkIiwgX3RoaXMucHJvZHVjdC5jYXRlZ29yeS5pZCB8fCBfdGhpcy5wcm9kdWN0LmNhdGVnb3J5KTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmVkaXRNb2RlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcHJvZHVjdC5hcHBlbmQoIklkIiwgX3RoaXMucHJvZHVjdC5pZCk7CiAgICAgICAgICAgICAgICBwcm9kdWN0LmFwcGVuZCgiSW1hZ2UiLCBfdGhpcy5wcm9kdWN0LmltYWdlLm5hbWUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVkaXRQcm9kdWN0KHByb2R1Y3QpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYWRkUHJvZHVjdChwcm9kdWN0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF90aGlzLnNldEN1cnJlbnRQYWdlKDEpOwoKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2FkbWluL3Byb2R1Y3RzIik7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLmVkaXRNb2RlKSB7CiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5wcm9kdWN0LCB0aGlzLiRzdG9yZS5nZXR0ZXJzLnByb2R1Y3RCeUlkKHRoaXMuJHJvdXRlLnBhcmFtc1siaWQiXSkpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ProductEditor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <h2 class=\"text-center p-2\">\r\n            {{ editMode ? \"Edit Product\" : \"Add Product\" }}\r\n        </h2>\r\n\r\n        <h4\r\n            v-if=\"$v.$invalid && $v.$dirty\"\r\n            class=\"bg-danger text-white text-center p-2\"\r\n        >\r\n            Values Required for All Fields!\r\n        </h4>\r\n\r\n        <div class=\"form-group\">\r\n            <label for=\"\">Name</label>\r\n            <input type=\"text\" class=\"form-control\" v-model=\"product.name\" />\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <label for=\"\">Description</label>\r\n            <textarea\r\n                class=\"form-control\"\r\n                v-model=\"product.description\"\r\n            ></textarea>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <label for=\"\">Price</label>\r\n            <input type=\"text\" class=\"form-control\" v-model=\"product.price\" />\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <label for=\"\">Image</label>\r\n            <input type=\"file\" class=\"form-control\" @change=\"onFileSelected\" />\r\n\r\n            <p v-if=\"editMode\" class=\"mt-3\">\r\n                Current Image:\r\n                <img :src=\"productImages + product.image\" width=\"100\" />\r\n            </p>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <label for=\"\">Category</label>\r\n            <select class=\"form-control\" @change=\"onChange\">\r\n                <option :value=\"null\">Choose a category</option>\r\n                <option\r\n                    v-for=\"(c, i) in categories\"\r\n                    :key=\"i\"\r\n                    :value=\"c.id\"\r\n                    :selected=\"c.id == product.categoryId\"\r\n                >\r\n                    {{ c.name }}\r\n                </option>\r\n            </select>\r\n        </div>\r\n\r\n        <div class=\"text-center\">\r\n            <router-link to=\"/admin/products\" class=\"btn btn-secondary m-1\"\r\n                >Cancel</router-link\r\n            >\r\n            <button class=\"btn btn-primary m-1\" @click=\"handleProduct\">\r\n                {{ editMode ? \"Edit\" : \"Add\" }}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions, mapMutations } from \"vuex\";\r\nimport { required } from \"vuelidate/lib/validators\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            product: {\r\n                name: null,\r\n                description: null,\r\n                price: null,\r\n                image: null,\r\n                category: null,\r\n            },\r\n        };\r\n    },\r\n    validations: {\r\n        product: {\r\n            name: { required },\r\n            description: { required },\r\n            price: { required },\r\n            category: { required },\r\n        },\r\n    },\r\n    computed: {\r\n        ...mapState([\"categories\", \"productImages\"]),\r\n        editMode() {\r\n            return this.$route.params[\"op\"] == \"edit\";\r\n        },\r\n    },\r\n    methods: {\r\n        ...mapMutations([\"setCurrentPage\"]),\r\n        ...mapActions([\"addProduct\", \"editProduct\"]),\r\n        onFileSelected(e) {\r\n            this.product.image = e.target.files[0];\r\n        },\r\n        onChange(e) {\r\n            this.product.category = e.target.value;\r\n        },\r\n        async handleProduct() {\r\n            this.$v.$touch();\r\n            if (!this.$v.$invalid) {\r\n                const product = new FormData();\r\n\r\n                product.append(\"Name\", this.product.name);\r\n                product.append(\"Description\", this.product.description);\r\n                product.append(\"Price\", this.product.price);\r\n                product.append(\"ImageUpload\", this.product.image);\r\n                product.append(\r\n                    \"CategoryId\",\r\n                    this.product.category.id || this.product.category\r\n                );\r\n\r\n                if (this.editMode) {\r\n                    product.append(\"Id\", this.product.id);\r\n                    product.append(\"Image\", this.product.image.name);\r\n\r\n                    await this.editProduct(product);\r\n                } else {\r\n                    await this.addProduct(product);\r\n                }\r\n\r\n                this.setCurrentPage(1);\r\n                this.$router.push(\"/admin/products\");\r\n            }\r\n        },\r\n    },\r\n    created() {\r\n        if (this.editMode) {\r\n            Object.assign(\r\n                this.product,\r\n                this.$store.getters.productById(this.$route.params[\"id\"])\r\n            );\r\n        }\r\n    },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components/admin"}]}